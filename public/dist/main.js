var openlogix=angular.module("openlogix",["ngResource","ngRoute","ui.bootstrap"]);openlogix.config(["$routeProvider",function(e){e.when("/",{templateUrl:"/views/index.html"})}]),angular.module("openlogix").controller("mapCtrl",["$scope","$http",function(e,o){function s(){return o.get("/addresses").then(function(o){console.log(o),e.addresses=o.data,console.log(e.addresses)})}e.addresses=[],s(),e.parking={address:"",spots:0,reserved:0},e.getLocation=function(e){return o.get("http://maps.googleapis.com/maps/api/geocode/json",{params:{address:e,sensor:!1}}).then(function(e){var o=[];return angular.forEach(e.data.results,function(e){o.push(e.formatted_address)}),o})},e.saveParkingLot=function(s){o.post("/addresses",s).then(function(o){console.log(o),200===o.status&&e.addresses.push(o.data)})},e.reserveSpot=function(e){var s=e.reserved+1;e.spots>=s&&(e.reserved++,o.put("/addresses/"+e.id,e).then(function(e){console.log(e)}))}}]);